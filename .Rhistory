library(caret)
library(data.table)
library(Metrics)
library(dplyr)
library(tidyverse)
train <- read.csv("C://Users//zachh//Data//Stat_380_train.csv")
test <- read.csv("C://Users//zachh//Data//Stat_380_test.csv")
covar <- read.csv("C://Users//zachh//Data//covar_data.csv")
example <- read.csv("C://Users//zachh//Data//Example_Sub.csv")
View(covar)
View(example)
View(train)
View(test)
View(covar)
View(covar)
View(covar)
View(example)
model <- train(ic50_Omicron ~ ., data = train, method = "lm")
train <- na.omit(train)
test <- na.omit(test)
View(train)
View(test)
View(test)
train <- read.csv("C://Users//zachh//Data//Stat_380_train.csv")
test <- read.csv("C://Users//zachh//Data//Stat_380_test.csv")
covar <- read.csv("C://Users//zachh//Data//covar_data.csv")
example <- read.csv("C://Users//zachh//Data//Example_Sub.csv")
View(test)
View(train)
lm_model <- lm(ic50_Omicron ~ age + sex + centre + dose_2 + dose_3  + PriorSxAtFirstVisit + days_sinceDose2 + days_dose12interval + posTest_beforeVisit, data = train)
lm_model <- lm(ic50_Omicron ~ age + sex + centre + dose_2 + dose_3  + priorSxAtFirstVisit + days_sinceDose2 + days_dose12interval + posTest_beforeVisit, data = train)
summary(lm_model)
lm_model <- lm(ic50_Omicron ~ age + centre + dose_2 + dose_3  + priorSxAtFirstVisit + days_sinceDose2 + days_dose12interval + posTest_beforeVisit, data = train)
summary(lm_model)
test$ic50_Omicron <- predict(lm_model, newdata = test)
View(test)
submit <- select(test, sample_id, ic50_Omicron)
View(submit)
write_csv(submit, path = "submit.csv")
lm_model <- lm(ic50_Omicron ~ ., data = train)
library(caret)
library(data.table)
library(Metrics)
library(dplyr)
library(tidyverse)
model <- glm(result ~ ., data = train[, -1], family = "binomial")
model <- glm(result ~ ., data = train[, -1], family = "binomial")
test$result <- NULL
View(test)
test$result <- NULL
merged_data <- merge(train, covar, by = "sample_id")
test$ic50_Omicron <- NULL
View(merged_data)
lm_model <- lm(ic50_Omicron ~ ., data = train)
model <- lm(icomicron_50 ~ ., data = merged_data)
View(train)
model <- lm(ic50_omicron ~ ., data = merged_data)
model <- lm(ic50_Omicron ~ ., data = merged_data)
lm_model <- lm(ic50_Omicron ~ ., data = train)
str(train)
str(covar)
str(train)
rain[is.na(train)] <- mean(train, na.rm = TRUE)
train[is.na(train)] <- mean(train, na.rm = TRUE)
str(train)
for (col in names(train)) {
if (is.numeric(train[[col]])) {
train[[col]][is.na(train[[col]])] <- mean(train[[col]], na.rm = TRUE)
} else if (is.factor(train[[col]])) {
train[[col]] <- as.character(train[[col]])  # Convert factors to character
train[[col]][is.na(train[[col]])] <- as.character(which.max(table(train[[col]])))
train[[col]] <- as.factor(train[[col]])  # Convert back to factor
} else if (is.integer(train[[col]])) {
train[[col]][is.na(train[[col]])] <- as.integer(which.max(table(train[[col]])))
}
}
train$ic50_Omicron <- as.numeric(train$ic50_Omicron)
model <- lm(ic50_Omicron ~ ., data = merged_data)
train <- read.csv("C://Users//zachh//Data//Stat_380_train.csv")
test <- read.csv("C://Users//zachh//Data//Stat_380_test.csv")
covar <- read.csv("C://Users//zachh//Data//covar_data.csv")
example <- read.csv("C://Users//zachh//Data//Example_Sub.csv")
View(covar)
View(covar)
View(covar)
model <- lm(ic50_Omicron ~ ., data = train_merged)
model <- lm(ic50_Omicron ~ ., data = merged_data)
View(covar)
